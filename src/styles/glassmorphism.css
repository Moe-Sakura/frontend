/**
 * 半透明效果样式 - 性能优化版
 * Translucent Effect Styles - Performance Optimized
 * 
 * 优化策略：
 * 1. 使用半透明背景色替代 backdrop-filter blur
 * 2. 通过颜色和透明度营造层次感
 * 3. 仅在必要时使用轻量阴影
 * 4. 减少 GPU 负载，提升渲染性能
 */

:root {
  /* 主题色 - 艳粉 */
  --glass-pink: 255, 20, 147;
  --glass-pink-light: 255, 105, 180;
  --glass-pink-pale: 255, 228, 242;
  
  /* 亮色模式背景 */
  --glass-bg-light: rgba(255, 255, 255, 0.92);
  --glass-bg-light-hover: rgba(255, 255, 255, 0.96);
  --glass-border-light: rgba(var(--glass-pink), 0.12);
  --glass-border-light-hover: rgba(var(--glass-pink), 0.22);
  
  /* 暗色模式背景 */
  --glass-bg-dark: rgba(30, 41, 59, 0.95);
  --glass-bg-dark-hover: rgba(30, 41, 59, 0.98);
  --glass-border-dark: rgba(var(--glass-pink-light), 0.18);
  --glass-border-dark-hover: rgba(var(--glass-pink-light), 0.28);
}

/* ========== 基础半透明效果 ========== */
.glass {
  background: var(--glass-bg-light);
  border: 1px solid var(--glass-border-light);
}

.dark .glass {
  background: var(--glass-bg-dark);
  border-color: var(--glass-border-dark);
}

/* ========== 搜索输入框效果 ========== */
.glassmorphism-input {
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.95) 0%,
    rgba(255, 245, 250, 0.92) 100%
  );
  border: 2px solid rgba(var(--glass-pink), 0.15);
  box-shadow: 
    0 4px 16px rgba(var(--glass-pink), 0.06),
    0 1px 2px rgba(0, 0, 0, 0.03);
  transition: 
    transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), 
    box-shadow 0.3s ease-out, 
    border-color 0.3s ease-out,
    background 0.3s ease-out;
}

.glassmorphism-input:hover {
  border-color: rgba(var(--glass-pink), 0.25);
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.98) 0%,
    rgba(255, 248, 252, 0.95) 100%
  );
  box-shadow: 
    0 6px 20px rgba(var(--glass-pink), 0.1),
    0 2px 4px rgba(0, 0, 0, 0.03);
}

.glassmorphism-input:focus {
  border-color: rgba(var(--glass-pink), 0.45);
  background: rgba(255, 255, 255, 0.98);
  box-shadow: 
    0 8px 24px rgba(var(--glass-pink), 0.15),
    0 0 0 4px rgba(var(--glass-pink), 0.1);
  transform: scale(1.01);
}

.dark .glassmorphism-input {
  background: linear-gradient(
    135deg,
    rgba(30, 41, 59, 0.95) 0%,
    rgba(45, 55, 75, 0.92) 100%
  );
  border: 2px solid rgba(var(--glass-pink-light), 0.2);
  box-shadow: 
    0 4px 16px rgba(var(--glass-pink-light), 0.1),
    0 1px 2px rgba(0, 0, 0, 0.15);
}

.dark .glassmorphism-input:hover {
  border-color: rgba(var(--glass-pink-light), 0.3);
  background: linear-gradient(
    135deg,
    rgba(35, 46, 64, 0.98) 0%,
    rgba(50, 60, 80, 0.95) 100%
  );
}

.dark .glassmorphism-input:focus {
  border-color: rgba(var(--glass-pink-light), 0.5);
  background: rgba(40, 51, 69, 0.98);
  box-shadow: 
    0 8px 28px rgba(var(--glass-pink-light), 0.2),
    0 0 0 4px rgba(var(--glass-pink-light), 0.12);
  transform: scale(1.01);
}

/* ========== 搜索按钮效果 ========== */
.glassmorphism-button {
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.9) 0%,
    rgba(var(--glass-pink-pale), 0.85) 100%
  );
  border: 1.5px solid rgba(var(--glass-pink), 0.25);
  box-shadow: 0 4px 12px rgba(var(--glass-pink), 0.12);
  transition: transform 0.2s ease-out, box-shadow 0.2s ease-out, border-color 0.2s ease-out;
}

.glassmorphism-button:hover:not(:disabled) {
  border-color: rgba(var(--glass-pink), 0.4);
  box-shadow: 0 6px 18px rgba(var(--glass-pink), 0.2);
  transform: translateY(-1px) scale(1.02);
}

.glassmorphism-button:active:not(:disabled) {
  transform: scale(0.98);
  box-shadow: 0 2px 8px rgba(var(--glass-pink), 0.1);
}

.glassmorphism-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.dark .glassmorphism-button {
  background: linear-gradient(
    135deg,
    rgba(30, 41, 59, 0.92) 0%,
    rgba(51, 65, 85, 0.88) 100%
  );
  border-color: rgba(var(--glass-pink-light), 0.3);
  box-shadow: 0 4px 12px rgba(var(--glass-pink-light), 0.15);
}

.dark .glassmorphism-button:hover:not(:disabled) {
  border-color: rgba(var(--glass-pink-light), 0.45);
  box-shadow: 0 6px 18px rgba(var(--glass-pink-light), 0.25);
}

/* ========== 内嵌搜索按钮 ========== */
.glassmorphism-search-button {
  background: rgba(255, 255, 255, 0.85);
  border: 1px solid rgba(var(--glass-pink), 0.2);
  box-shadow: 0 2px 6px rgba(var(--glass-pink), 0.08);
  transition: transform 0.2s ease-out, box-shadow 0.2s ease-out, border-color 0.2s ease-out;
}

.glassmorphism-search-button:hover:not(:disabled) {
  border-color: rgba(var(--glass-pink), 0.35);
  box-shadow: 0 4px 10px rgba(var(--glass-pink), 0.14);
  transform: translateY(-1px) scale(1.02);
}

.glassmorphism-search-button:active:not(:disabled) {
  transform: scale(0.96);
}

.glassmorphism-search-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.dark .glassmorphism-search-button {
  background: rgba(30, 41, 59, 0.9);
  border-color: rgba(var(--glass-pink-light), 0.25);
  box-shadow: 0 2px 6px rgba(var(--glass-pink-light), 0.1);
}

.dark .glassmorphism-search-button:hover:not(:disabled) {
  border-color: rgba(var(--glass-pink-light), 0.4);
  box-shadow: 0 4px 10px rgba(var(--glass-pink-light), 0.18);
}

/* ========== 模式切换器效果 ========== */
.glassmorphism-mode-switch {
  background: linear-gradient(
    135deg,
    rgba(255, 255, 255, 0.95) 0%,
    rgba(255, 248, 252, 0.9) 100%
  );
  border: 2px solid rgba(var(--glass-pink), 0.12);
  box-shadow: 0 4px 12px rgba(var(--glass-pink), 0.08);
  transition: all 0.3s ease-out;
}

.glassmorphism-mode-switch:hover {
  border-color: rgba(var(--glass-pink), 0.2);
  box-shadow: 0 6px 18px rgba(var(--glass-pink), 0.12);
}

.dark .glassmorphism-mode-switch {
  background: linear-gradient(
    135deg,
    rgba(30, 41, 59, 0.95) 0%,
    rgba(45, 55, 75, 0.9) 100%
  );
  border: 2px solid rgba(var(--glass-pink-light), 0.18);
  box-shadow: 0 4px 12px rgba(var(--glass-pink-light), 0.1);
}

.dark .glassmorphism-mode-switch:hover {
  border-color: rgba(var(--glass-pink-light), 0.28);
  box-shadow: 0 6px 18px rgba(var(--glass-pink-light), 0.16);
}

/* ========== 模态框效果 ========== */
.glassmorphism-modal {
  background: linear-gradient(
    145deg,
    rgba(255, 255, 255, 0.96) 0%,
    rgba(255, 250, 252, 0.94) 100%
  );
  border: 1.5px solid var(--glass-border-light);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
  border-radius: 24px;
  transition: transform 0.3s ease-out, box-shadow 0.3s ease-out;
}

.glassmorphism-modal:hover {
  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
}

.dark .glassmorphism-modal {
  background: linear-gradient(
    145deg,
    rgba(30, 41, 59, 0.98) 0%,
    rgba(40, 51, 69, 0.96) 100%
  );
  border-color: var(--glass-border-dark);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.dark .glassmorphism-modal:hover {
  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.4);
}

/* ========== 面板效果 ========== */
.glassmorphism-panel {
  background: linear-gradient(
    145deg,
    rgba(255, 255, 255, 0.96) 0%,
    rgba(255, 252, 254, 0.94) 100%
  );
  border: 1.5px solid var(--glass-border-light);
  box-shadow: 0 6px 24px rgba(0, 0, 0, 0.1);
  border-radius: 20px;
  transition: transform 0.3s ease-out, box-shadow 0.3s ease-out;
}

.glassmorphism-panel:hover {
  box-shadow: 0 10px 32px rgba(0, 0, 0, 0.12);
  transform: translateY(-2px);
}

.dark .glassmorphism-panel {
  background: linear-gradient(
    145deg,
    rgba(30, 41, 59, 0.98) 0%,
    rgba(40, 51, 69, 0.96) 100%
  );
  border-color: var(--glass-border-dark);
  box-shadow: 0 6px 24px rgba(0, 0, 0, 0.25);
}

.dark .glassmorphism-panel:hover {
  box-shadow: 0 10px 32px rgba(0, 0, 0, 0.35);
  transform: translateY(-2px);
}

/* ========== 工具栏按钮效果 ========== */
.glassmorphism-toolbar-button {
  background: rgba(255, 255, 255, 0.9);
  border: 1px solid var(--glass-border-light);
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
  border-radius: 12px;
  transition: transform 0.2s ease-out, background 0.2s ease-out, box-shadow 0.2s ease-out;
}

.glassmorphism-toolbar-button:hover {
  background: rgba(255, 255, 255, 0.98);
  border-color: var(--glass-border-light-hover);
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
  transform: translateY(-1px);
}

.glassmorphism-toolbar-button:active {
  transform: translateY(0);
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.05);
}

.dark .glassmorphism-toolbar-button {
  background: rgba(30, 41, 59, 0.9);
  border-color: var(--glass-border-dark);
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
}

.dark .glassmorphism-toolbar-button:hover {
  background: rgba(40, 51, 69, 0.95);
  border-color: var(--glass-border-dark-hover);
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
}

/* ========== 卡片效果 ========== */
.glassmorphism-card {
  background: rgba(255, 255, 255, 0.95);
  border: 1px solid var(--glass-border-light);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
  border-radius: 16px;
  transition: transform 0.25s ease-out, box-shadow 0.25s ease-out;
}

.glassmorphism-card:hover {
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
  transform: translateY(-2px);
}

.dark .glassmorphism-card {
  background: rgba(30, 41, 59, 0.95);
  border-color: var(--glass-border-dark);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

.dark .glassmorphism-card:hover {
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
  transform: translateY(-2px);
}

/* ========== 悬浮按钮效果 ========== */
.glassmorphism-fab {
  background: rgba(255, 255, 255, 0.95);
  border: 1px solid var(--glass-border-light);
  box-shadow: 0 4px 14px rgba(var(--glass-pink), 0.1);
  transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
}

.glassmorphism-fab:hover {
  box-shadow: 0 6px 20px rgba(var(--glass-pink), 0.18);
  transform: translateY(-2px) scale(1.05);
}

.glassmorphism-fab:active {
  transform: scale(0.95);
}

.dark .glassmorphism-fab {
  background: rgba(30, 41, 59, 0.95);
  border-color: var(--glass-border-dark);
  box-shadow: 0 4px 14px rgba(var(--glass-pink-light), 0.15);
}

.dark .glassmorphism-fab:hover {
  box-shadow: 0 6px 20px rgba(var(--glass-pink-light), 0.25);
}

/* ========== 遮罩层效果 ========== */
.glassmorphism-overlay {
  background: rgba(0, 0, 0, 0.4);
}

.dark .glassmorphism-overlay {
  background: rgba(0, 0, 0, 0.55);
}

/* ========== 导航栏效果 ========== */
.glassmorphism-navbar {
  background: rgba(255, 255, 255, 0.95);
  border-bottom: 1px solid rgba(var(--glass-pink), 0.08);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.04);
}

.dark .glassmorphism-navbar {
  background: rgba(15, 23, 42, 0.98);
  border-bottom-color: rgba(var(--glass-pink-light), 0.12);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);
}

/* ========== 性能优化工具类 ========== */
/* GPU 加速 */
.glass-gpu {
  transform: translateZ(0);
  backface-visibility: hidden;
}

/* 性能提示：will-change 自动管理 */
.glassmorphism-card:hover,
.glassmorphism-panel:hover,
.glassmorphism-modal:hover,
.glassmorphism-fab:hover,
.glassmorphism-button:hover {
  will-change: transform;
}

/* 触摸设备优化 */
@media (hover: none) {
  .glassmorphism-card,
  .glassmorphism-panel,
  .glassmorphism-modal,
  .glassmorphism-fab,
  .glassmorphism-button {
    will-change: auto;
  }
}

/* 渲染隔离 */
.glass,
.glassmorphism-input,
.glassmorphism-button,
.glassmorphism-modal,
.glassmorphism-panel,
.glassmorphism-card,
.glassmorphism-fab {
  isolation: isolate;
}
