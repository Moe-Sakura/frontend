# ESLint é…ç½®è¯´æ˜

## ğŸ“‹ æ¦‚è¿°

æœ¬é¡¹ç›®ä½¿ç”¨ ESLint 9 çš„ Flat Config æ ¼å¼è¿›è¡Œä»£ç è´¨é‡æ£€æŸ¥å’Œæ ¼å¼åŒ–ã€‚

## ğŸ”§ å·²å®‰è£…çš„åŒ…

- `eslint` - ESLint æ ¸å¿ƒ
- `@eslint/js` - JavaScript æ¨èè§„åˆ™
- `typescript-eslint` - TypeScript æ”¯æŒ
- `@typescript-eslint/parser` - TypeScript è§£æå™¨
- `@typescript-eslint/eslint-plugin` - TypeScript è§„åˆ™æ’ä»¶
- `eslint-plugin-vue` - Vue 3 æ”¯æŒ

## ğŸ“ é…ç½®æ–‡ä»¶

### `eslint.config.js`

ä½¿ç”¨ ESLint 9 çš„ Flat Config æ ¼å¼ï¼ŒåŒ…å«ï¼š

1. **å¿½ç•¥è§„åˆ™**
   - `dist/` - æ„å»ºè¾“å‡º
   - `node_modules/` - ä¾èµ–åŒ…
   - `.pnpm-store/` - pnpm ç¼“å­˜
   - `public/` - é™æ€èµ„æº
   - `*.config.js` å’Œ `*.config.ts` - é…ç½®æ–‡ä»¶
   - `.vscode/`, `.idea/` - ç¼–è¾‘å™¨é…ç½®
   - `coverage/` - æµ‹è¯•è¦†ç›–ç‡

2. **åŸºç¡€è§„åˆ™**
   - JavaScript æ¨èè§„åˆ™
   - TypeScript æ¨èè§„åˆ™
   - Vue 3 æ¨èè§„åˆ™

3. **è‡ªå®šä¹‰è§„åˆ™**
   - TypeScript:
     - `@typescript-eslint/no-explicit-any`: è­¦å‘Šï¼ˆå…è®¸ä½†æç¤ºï¼‰
     - `@typescript-eslint/no-unused-vars`: è­¦å‘Šï¼ˆå¿½ç•¥ `_` å‰ç¼€å’Œ catch é”™è¯¯ï¼‰
     - `@typescript-eslint/no-non-null-assertion`: å…³é—­ï¼ˆIndexedDB éœ€è¦ï¼‰
   
   - Vue:
     - `vue/multi-word-component-names`: å…³é—­ï¼ˆå…è®¸å•è¯ç»„ä»¶åï¼‰
     - `vue/no-v-html`: è­¦å‘Š
     - `vue/max-attributes-per-line`: å…³é—­
   
   - é€šç”¨:
     - `no-console`: å…³é—­ï¼ˆå¼€å‘æ—¶æœ‰ç”¨ï¼‰
     - `no-debugger`: è­¦å‘Š
     - `prefer-const`: è­¦å‘Š
     - `no-var`: é”™è¯¯
     - `semi`: ä¸ä½¿ç”¨åˆ†å·
     - `quotes`: å•å¼•å·

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### æ£€æŸ¥ä»£ç 

```bash
pnpm lint
```

### è‡ªåŠ¨ä¿®å¤

```bash
pnpm lint:fix
```

### åœ¨ç¼–è¾‘å™¨ä¸­é›†æˆ

#### VS Code

å®‰è£… ESLint æ‰©å±•ï¼š
```
dbaeumer.vscode-eslint
```

åœ¨ `.vscode/settings.json` ä¸­æ·»åŠ ï¼š
```json
{
  "eslint.validate": [
    "javascript",
    "typescript",
    "vue"
  ],
  "editor.codeActionsOnSave": {
    "source.fixAll.eslint": true
  }
}
```

## ğŸ“Š å½“å‰çŠ¶æ€

âœ… **0 ä¸ªé”™è¯¯**
âš ï¸ **16 ä¸ªè­¦å‘Š**ï¼ˆä¸»è¦æ˜¯ `any` ç±»å‹ä½¿ç”¨ï¼‰

### è­¦å‘Šåˆ†å¸ƒ

- `src/api/search.ts`: 9 ä¸ª `any` ç±»å‹è­¦å‘Š
- `src/components/CommentsModal.vue`: 2 ä¸ª `any` ç±»å‹è­¦å‘Š
- `src/components/StatsCorner.vue`: 1 ä¸ª `any` ç±»å‹è­¦å‘Š
- `src/stores/search.ts`: 2 ä¸ª `any` ç±»å‹è­¦å‘Š
- `src/types/artalk.d.ts`: 2 ä¸ª `any` ç±»å‹è­¦å‘Š

## ğŸ¯ æ”¹è¿›å»ºè®®

1. **ç±»å‹å®šä¹‰**: ä¸º API å“åº”å’Œç¬¬ä¸‰æ–¹åº“åˆ›å»ºæ›´ç²¾ç¡®çš„ç±»å‹å®šä¹‰
2. **ç±»å‹æ–­è¨€**: ä½¿ç”¨ç±»å‹æ–­è¨€æ›¿ä»£ `any`
3. **æ³›å‹**: åœ¨å¯èƒ½çš„åœ°æ–¹ä½¿ç”¨æ³›å‹æé«˜ç±»å‹å®‰å…¨æ€§

## ğŸ”„ è¿ç§»è¯´æ˜

- âœ… å·²ä» `.eslintrc.*` è¿ç§»åˆ° `eslint.config.js`
- âœ… å·²åˆ é™¤ `.eslintignore`ï¼ˆä½¿ç”¨ config ä¸­çš„ `ignores`ï¼‰
- âœ… å·²æ›´æ–° package.json è„šæœ¬ï¼ˆç§»é™¤ `--ext` å‚æ•°ï¼‰
- âœ… å·²é…ç½®é€‚åˆ Vue 3 + TypeScript é¡¹ç›®çš„è§„åˆ™

## ğŸ“š å‚è€ƒèµ„æ–™

- [ESLint å®˜æ–¹æ–‡æ¡£](https://eslint.org/)
- [ESLint Flat Config è¿ç§»æŒ‡å—](https://eslint.org/docs/latest/use/configure/migration-guide)
- [typescript-eslint æ–‡æ¡£](https://typescript-eslint.io/)
- [eslint-plugin-vue æ–‡æ¡£](https://eslint.vuejs.org/)

